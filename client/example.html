<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xpectra Tracker Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .container {
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        h1 {
            color: #333;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        pre {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .events-log {
            height: 200px;
            overflow-y: auto;
            background-color: #f9f9f9;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>üõ∞Ô∏è Xpectra Tracker Demo</h1>
    
    <div class="container">
        <h2>Basic Integration</h2>
        <p>This page demonstrates how to integrate and use the Xpectra tracking system.</p>
        <p>The tracker is loaded with these configuration options:</p>
        <pre>
data-xpectra-endpoint: "/api/track"
data-xpectra-site-id: "demo-site"
data-xpectra-track-clicks: "true"
data-xpectra-track-scroll: "true"
        </pre>
    </div>

    <div class="container">
        <h2>Test Tracking Events</h2>
        <p>Click the buttons below to trigger tracking events:</p>
        
        <button id="track-event" data-track="custom-button" data-track-action="click">
            Track Custom Event
        </button>
        
        <button id="track-conversion" data-track="conversion" data-track-action="purchase">
            Track Conversion
        </button>

        <a href="#section" data-track="navigation" data-track-action="internal-link">Go to Section</a>
        
        <div class="events-log" id="events-log">
            <strong>Events Log:</strong><br>
        </div>
    </div>

    <div class="container" id="section">
        <h2>Test Section</h2>
        <p>This is a section that helps test scroll tracking.</p>
        <p>Scroll down to see scroll depth tracking in action.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nunc eget ultricies ultricies, nisl nisl aliquam nisl, eget aliquam nisl nisl sit amet nisl. Nullam auctor, nunc eget ultricies ultricies, nisl nisl aliquam nisl, eget aliquam nisl nisl sit amet nisl.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nunc eget ultricies ultricies, nisl nisl aliquam nisl, eget aliquam nisl nisl sit amet nisl. Nullam auctor, nunc eget ultricies ultricies, nisl nisl aliquam nisl, eget aliquam nisl nisl sit amet nisl.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nunc eget ultricies ultricies, nisl nisl aliquam nisl, eget aliquam nisl nisl sit amet nisl. Nullam auctor, nunc eget ultricies ultricies, nisl nisl aliquam nisl, eget aliquam nisl nisl sit amet nisl.</p>
    </div>

    <!-- Load the Xpectra tracker with configuration -->
    <script src="./dist/xpectra.min.js" 
            data-xpectra-endpoint="/api/track"
            data-xpectra-site-id="demo-site"
            data-xpectra-track-clicks="true"
            data-xpectra-track-scroll="true"></script>
    
    <!-- Demo script to log events -->
    <script>
        // For demo purposes, override the sendData method to display events in the log
        const originalSendData = window.xpectra.sendData;
        window.xpectra.sendData = function(data) {
            // Log event to UI
            const eventsLog = document.getElementById('events-log');
            const logItem = document.createElement('div');
            logItem.innerHTML = `[${new Date().toLocaleTimeString()}] ${data.type}: ${JSON.stringify(data)}`;
            eventsLog.appendChild(logItem);
            eventsLog.scrollTop = eventsLog.scrollHeight;
            
            // Call the original method
            return originalSendData.call(this, data);
        };

        // Custom event handler
        document.getElementById('track-event').addEventListener('click', function() {
            window.xpectra.trackEvent('demo', 'custom-event', 'Button clicked', 1);
        });

        // Conversion handler
        document.getElementById('track-conversion').addEventListener('click', function() {
            window.xpectra.trackEvent('conversion', 'purchase', 'Product', 99.99);
        });
    </script>
</body>
</html> 